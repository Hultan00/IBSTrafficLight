ARM GAS  C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"Traffic_Light.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/Traffic_Light.c"
  20              		.section	.text.Init_States,"ax",%progbits
  21              		.align	1
  22              		.global	Init_States
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	Init_States:
  28              	.LFB320:
   1:Core/Src/Traffic_Light.c **** #include <stdio.h>
   2:Core/Src/Traffic_Light.c **** #include <stdlib.h>
   3:Core/Src/Traffic_Light.c **** #include <stdbool.h>
   4:Core/Src/Traffic_Light.c **** 
   5:Core/Src/Traffic_Light.c **** #include "main.h"
   6:Core/Src/Traffic_Light.c **** #include "stm32l4xx_it.h"
   7:Core/Src/Traffic_Light.c **** #include "stm32l4xx_hal_conf.h"
   8:Core/Src/Traffic_Light.c **** #include "shift_register.h"
   9:Core/Src/Traffic_Light.c **** #include "light_logic.h"
  10:Core/Src/Traffic_Light.c **** #include "Traffic_Light.h"
  11:Core/Src/Traffic_Light.c **** #include "tim.h"
  12:Core/Src/Traffic_Light.c **** #include "interactions.h"
  13:Core/Src/Traffic_Light.c **** #include "OledDelayBars.h"
  14:Core/Src/Traffic_Light.c **** #include "potentiometer.h"
  15:Core/Src/Traffic_Light.c **** #include "math.h"
  16:Core/Src/Traffic_Light.c **** #include "ssd1306.h"
  17:Core/Src/Traffic_Light.c **** 
  18:Core/Src/Traffic_Light.c **** #define togglefreq 10.0
  19:Core/Src/Traffic_Light.c **** #define pedestriandelay 5.0
  20:Core/Src/Traffic_Light.c **** 
  21:Core/Src/Traffic_Light.c **** typedef enum{   
  22:Core/Src/Traffic_Light.c ****     PLRed,
  23:Core/Src/Traffic_Light.c ****     PLGreen,
  24:Core/Src/Traffic_Light.c ****     PLBlue
  25:Core/Src/Traffic_Light.c **** } crosswalk;
  26:Core/Src/Traffic_Light.c **** 
  27:Core/Src/Traffic_Light.c **** typedef enum{   
  28:Core/Src/Traffic_Light.c ****     TLRed,
  29:Core/Src/Traffic_Light.c ****     TLYellow,
  30:Core/Src/Traffic_Light.c ****     TLGreen
ARM GAS  C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s 			page 2


  31:Core/Src/Traffic_Light.c **** } crossing;
  32:Core/Src/Traffic_Light.c **** 
  33:Core/Src/Traffic_Light.c **** static crossing C1, C2, C3, C4;
  34:Core/Src/Traffic_Light.c **** 
  35:Core/Src/Traffic_Light.c **** static crosswalk CW1, CW2;
  36:Core/Src/Traffic_Light.c **** 
  37:Core/Src/Traffic_Light.c **** uint8_t brightness = 0;
  38:Core/Src/Traffic_Light.c **** 
  39:Core/Src/Traffic_Light.c **** uint8_t PLBluedelay = 0;
  40:Core/Src/Traffic_Light.c **** 
  41:Core/Src/Traffic_Light.c **** uint8_t PLGreenDelay = 0;
  42:Core/Src/Traffic_Light.c **** 
  43:Core/Src/Traffic_Light.c **** bool toggleBrightness = false;
  44:Core/Src/Traffic_Light.c **** 
  45:Core/Src/Traffic_Light.c **** bool toggleBlue = false;
  46:Core/Src/Traffic_Light.c **** 
  47:Core/Src/Traffic_Light.c **** uint16_t msTick = 1;
  48:Core/Src/Traffic_Light.c **** 
  49:Core/Src/Traffic_Light.c **** uint8_t Tick = 1;
  50:Core/Src/Traffic_Light.c **** 
  51:Core/Src/Traffic_Light.c **** uint32_t bits = 0;
  52:Core/Src/Traffic_Light.c **** 
  53:Core/Src/Traffic_Light.c **** void Init_States(){
  29              		.loc 1 53 19 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  54:Core/Src/Traffic_Light.c ****     C1 = TLRed;
  34              		.loc 1 54 5 view .LVU1
  35              		.loc 1 54 8 is_stmt 0 view .LVU2
  36 0000 0023     		movs	r3, #0
  37 0002 074A     		ldr	r2, .L2
  38 0004 1370     		strb	r3, [r2]
  55:Core/Src/Traffic_Light.c ****     C2 = TLGreen;
  39              		.loc 1 55 5 is_stmt 1 view .LVU3
  40              		.loc 1 55 8 is_stmt 0 view .LVU4
  41 0006 0222     		movs	r2, #2
  42 0008 0649     		ldr	r1, .L2+4
  43 000a 0A70     		strb	r2, [r1]
  56:Core/Src/Traffic_Light.c ****     C3 = TLRed;
  44              		.loc 1 56 5 is_stmt 1 view .LVU5
  45              		.loc 1 56 8 is_stmt 0 view .LVU6
  46 000c 0649     		ldr	r1, .L2+8
  47 000e 0B70     		strb	r3, [r1]
  57:Core/Src/Traffic_Light.c ****     C4 = TLGreen;
  48              		.loc 1 57 5 is_stmt 1 view .LVU7
  49              		.loc 1 57 8 is_stmt 0 view .LVU8
  50 0010 0649     		ldr	r1, .L2+12
  51 0012 0A70     		strb	r2, [r1]
  58:Core/Src/Traffic_Light.c ****     CW1 = PLRed;
  52              		.loc 1 58 5 is_stmt 1 view .LVU9
  53              		.loc 1 58 9 is_stmt 0 view .LVU10
  54 0014 064A     		ldr	r2, .L2+16
  55 0016 1370     		strb	r3, [r2]
  59:Core/Src/Traffic_Light.c ****     CW2 = PLRed;
  56              		.loc 1 59 5 is_stmt 1 view .LVU11
ARM GAS  C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s 			page 3


  57              		.loc 1 59 9 is_stmt 0 view .LVU12
  58 0018 064A     		ldr	r2, .L2+20
  59 001a 1370     		strb	r3, [r2]
  60:Core/Src/Traffic_Light.c **** }
  60              		.loc 1 60 1 view .LVU13
  61 001c 7047     		bx	lr
  62              	.L3:
  63 001e 00BF     		.align	2
  64              	.L2:
  65 0020 00000000 		.word	C1
  66 0024 00000000 		.word	C2
  67 0028 00000000 		.word	C3
  68 002c 00000000 		.word	C4
  69 0030 00000000 		.word	CW1
  70 0034 00000000 		.word	CW2
  71              		.cfi_endproc
  72              	.LFE320:
  74              		.section	.text.traffic_lights,"ax",%progbits
  75              		.align	1
  76              		.global	traffic_lights
  77              		.syntax unified
  78              		.thumb
  79              		.thumb_func
  81              	traffic_lights:
  82              	.LFB321:
  61:Core/Src/Traffic_Light.c **** 
  62:Core/Src/Traffic_Light.c **** void traffic_lights(){
  83              		.loc 1 62 22 is_stmt 1 view -0
  84              		.cfi_startproc
  85              		@ Volatile: function does not return.
  86              		@ args = 0, pretend = 0, frame = 0
  87              		@ frame_needed = 0, uses_anonymous_args = 0
  88 0000 08B5     		push	{r3, lr}
  89              	.LCFI0:
  90              		.cfi_def_cfa_offset 8
  91              		.cfi_offset 3, -8
  92              		.cfi_offset 14, -4
  63:Core/Src/Traffic_Light.c ****     HAL_TIM_Base_Start_IT(&htim16);
  93              		.loc 1 63 5 view .LVU15
  94 0002 5348     		ldr	r0, .L23
  95 0004 FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
  96              	.LVL0:
  64:Core/Src/Traffic_Light.c **** 
  65:Core/Src/Traffic_Light.c ****     Init_States();
  97              		.loc 1 65 5 view .LVU16
  98 0008 FFF7FEFF 		bl	Init_States
  99              	.LVL1:
  66:Core/Src/Traffic_Light.c **** 
  67:Core/Src/Traffic_Light.c ****     Show_All_DelayBars(true, 0);
 100              		.loc 1 67 5 view .LVU17
 101 000c 0021     		movs	r1, #0
 102 000e 0120     		movs	r0, #1
 103 0010 FFF7FEFF 		bl	Show_All_DelayBars
 104              	.LVL2:
  68:Core/Src/Traffic_Light.c **** 
  69:Core/Src/Traffic_Light.c ****     bits = Init_Task1(bits);
 105              		.loc 1 69 5 view .LVU18
ARM GAS  C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s 			page 4


 106              		.loc 1 69 12 is_stmt 0 view .LVU19
 107 0014 4F4C     		ldr	r4, .L23+4
 108 0016 2068     		ldr	r0, [r4]
 109 0018 FFF7FEFF 		bl	Init_Task1
 110              	.LVL3:
 111              		.loc 1 69 10 view .LVU20
 112 001c 2060     		str	r0, [r4]
 113 001e 0DE0     		b	.L10
 114              	.L18:
  70:Core/Src/Traffic_Light.c ****     while(1){
  71:Core/Src/Traffic_Light.c **** 
  72:Core/Src/Traffic_Light.c ****         brightness = getPotiPercent();
  73:Core/Src/Traffic_Light.c **** 
  74:Core/Src/Traffic_Light.c ****         /* // Brightness OLED
  75:Core/Src/Traffic_Light.c ****         char strBri[20] = "Brightness ";
  76:Core/Src/Traffic_Light.c ****         char strBrValue[3] = "";
  77:Core/Src/Traffic_Light.c ****         itoa(brightness, strBrValue, 10);
  78:Core/Src/Traffic_Light.c ****         strcat(strBri, strBrValue);
  79:Core/Src/Traffic_Light.c ****         strcat(strBri, " ");
  80:Core/Src/Traffic_Light.c ****         ssd1306_SetCursor(2,0);
  81:Core/Src/Traffic_Light.c ****         ssd1306_WriteString(strBri, Font_7x10, White);
  82:Core/Src/Traffic_Light.c ****         ssd1306_UpdateScreen();
  83:Core/Src/Traffic_Light.c ****         */
  84:Core/Src/Traffic_Light.c **** 
  85:Core/Src/Traffic_Light.c ****         if(is_pl2()){
  86:Core/Src/Traffic_Light.c ****             CW2 = PLBlue;
 115              		.loc 1 86 13 is_stmt 1 view .LVU21
 116              		.loc 1 86 17 is_stmt 0 view .LVU22
 117 0020 4D4B     		ldr	r3, .L23+8
 118 0022 0222     		movs	r2, #2
 119 0024 1A70     		strb	r2, [r3]
  87:Core/Src/Traffic_Light.c ****             PLBluedelay = togglefreq;
 120              		.loc 1 87 13 is_stmt 1 view .LVU23
 121              		.loc 1 87 25 is_stmt 0 view .LVU24
 122 0026 4D4B     		ldr	r3, .L23+12
 123 0028 0A22     		movs	r2, #10
 124 002a 1A70     		strb	r2, [r3]
 125              	.L6:
  88:Core/Src/Traffic_Light.c ****         }
  89:Core/Src/Traffic_Light.c **** 
  90:Core/Src/Traffic_Light.c ****         switch (CW2){
 126              		.loc 1 90 9 is_stmt 1 view .LVU25
 127 002c 4A4B     		ldr	r3, .L23+8
 128 002e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 129 0030 012B     		cmp	r3, #1
 130 0032 0CD0     		beq	.L7
 131 0034 022B     		cmp	r3, #2
 132 0036 57D0     		beq	.L8
 133 0038 002B     		cmp	r3, #0
 134 003a 7DD0     		beq	.L17
 135              	.L10:
  70:Core/Src/Traffic_Light.c **** 
 136              		.loc 1 70 5 view .LVU26
  72:Core/Src/Traffic_Light.c **** 
 137              		.loc 1 72 9 view .LVU27
  72:Core/Src/Traffic_Light.c **** 
 138              		.loc 1 72 22 is_stmt 0 view .LVU28
ARM GAS  C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s 			page 5


 139 003c FFF7FEFF 		bl	getPotiPercent
 140              	.LVL4:
  72:Core/Src/Traffic_Light.c **** 
 141              		.loc 1 72 20 view .LVU29
 142 0040 474B     		ldr	r3, .L23+16
 143 0042 1870     		strb	r0, [r3]
  85:Core/Src/Traffic_Light.c ****             CW2 = PLBlue;
 144              		.loc 1 85 9 is_stmt 1 view .LVU30
  85:Core/Src/Traffic_Light.c ****             CW2 = PLBlue;
 145              		.loc 1 85 12 is_stmt 0 view .LVU31
 146 0044 FFF7FEFF 		bl	is_pl2
 147              	.LVL5:
  85:Core/Src/Traffic_Light.c ****             CW2 = PLBlue;
 148              		.loc 1 85 11 view .LVU32
 149 0048 0028     		cmp	r0, #0
 150 004a EFD0     		beq	.L6
 151 004c E8E7     		b	.L18
 152              	.L7:
  91:Core/Src/Traffic_Light.c ****             case PLGreen:
  92:Core/Src/Traffic_Light.c ****                 if(PLGreenDelay == 0){
 153              		.loc 1 92 17 is_stmt 1 view .LVU33
 154              		.loc 1 92 33 is_stmt 0 view .LVU34
 155 004e 454B     		ldr	r3, .L23+20
 156 0050 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 157              		.loc 1 92 19 view .LVU35
 158 0052 C3B1     		cbz	r3, .L19
  93:Core/Src/Traffic_Light.c ****                     bits = PL2_Green(bits, false);
  94:Core/Src/Traffic_Light.c ****                     bits = PL2_Red(bits, true);
  95:Core/Src/Traffic_Light.c ****                     bits = TL4_Green(bits, true);
  96:Core/Src/Traffic_Light.c ****                     bits = TL4_Red(bits, false);
  97:Core/Src/Traffic_Light.c ****                     bits = TL4_Yellow(bits, false);
  98:Core/Src/Traffic_Light.c ****                     CW2 = PLRed;
  99:Core/Src/Traffic_Light.c ****                 }else if(PLGreenDelay == 1){
 159              		.loc 1 99 23 is_stmt 1 view .LVU36
 160              		.loc 1 99 25 is_stmt 0 view .LVU37
 161 0054 012B     		cmp	r3, #1
 162 0056 30D0     		beq	.L20
 100:Core/Src/Traffic_Light.c ****                     bits = PL2_Green(bits, false);
 101:Core/Src/Traffic_Light.c ****                     bits = PL2_Red(bits, true);
 102:Core/Src/Traffic_Light.c ****                     bits = TL4_Green(bits, false);
 103:Core/Src/Traffic_Light.c ****                     bits = TL4_Red(bits, false);
 104:Core/Src/Traffic_Light.c ****                     bits = TL4_Yellow(bits, true);
 105:Core/Src/Traffic_Light.c ****                 }else{
 106:Core/Src/Traffic_Light.c ****                     bits = PL2_Green(bits, true);
 163              		.loc 1 106 21 is_stmt 1 view .LVU38
 164              		.loc 1 106 28 is_stmt 0 view .LVU39
 165 0058 3E4C     		ldr	r4, .L23+4
 166 005a 0121     		movs	r1, #1
 167 005c 2068     		ldr	r0, [r4]
 168 005e FFF7FEFF 		bl	PL2_Green
 169              	.LVL6:
 170              		.loc 1 106 26 view .LVU40
 171 0062 2060     		str	r0, [r4]
 107:Core/Src/Traffic_Light.c ****                     bits = PL2_Red(bits, false);
 172              		.loc 1 107 21 is_stmt 1 view .LVU41
 173              		.loc 1 107 28 is_stmt 0 view .LVU42
 174 0064 0021     		movs	r1, #0
ARM GAS  C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s 			page 6


 175 0066 FFF7FEFF 		bl	PL2_Red
 176              	.LVL7:
 177              		.loc 1 107 26 view .LVU43
 178 006a 2060     		str	r0, [r4]
 108:Core/Src/Traffic_Light.c ****                     bits = TL4_Green(bits, false);
 179              		.loc 1 108 21 is_stmt 1 view .LVU44
 180              		.loc 1 108 28 is_stmt 0 view .LVU45
 181 006c 0021     		movs	r1, #0
 182 006e FFF7FEFF 		bl	TL4_Green
 183              	.LVL8:
 184              		.loc 1 108 26 view .LVU46
 185 0072 2060     		str	r0, [r4]
 109:Core/Src/Traffic_Light.c ****                     bits = TL4_Red(bits, true);
 186              		.loc 1 109 21 is_stmt 1 view .LVU47
 187              		.loc 1 109 28 is_stmt 0 view .LVU48
 188 0074 0121     		movs	r1, #1
 189 0076 FFF7FEFF 		bl	TL4_Red
 190              	.LVL9:
 191              		.loc 1 109 26 view .LVU49
 192 007a 2060     		str	r0, [r4]
 110:Core/Src/Traffic_Light.c ****                     bits = TL4_Yellow(bits, false);
 193              		.loc 1 110 21 is_stmt 1 view .LVU50
 194              		.loc 1 110 28 is_stmt 0 view .LVU51
 195 007c 0021     		movs	r1, #0
 196 007e FFF7FEFF 		bl	TL4_Yellow
 197              	.LVL10:
 198              		.loc 1 110 26 view .LVU52
 199 0082 2060     		str	r0, [r4]
 200 0084 DAE7     		b	.L10
 201              	.L19:
  93:Core/Src/Traffic_Light.c ****                     bits = PL2_Red(bits, true);
 202              		.loc 1 93 21 is_stmt 1 view .LVU53
  93:Core/Src/Traffic_Light.c ****                     bits = PL2_Red(bits, true);
 203              		.loc 1 93 28 is_stmt 0 view .LVU54
 204 0086 334C     		ldr	r4, .L23+4
 205 0088 0021     		movs	r1, #0
 206 008a 2068     		ldr	r0, [r4]
 207 008c FFF7FEFF 		bl	PL2_Green
 208              	.LVL11:
  93:Core/Src/Traffic_Light.c ****                     bits = PL2_Red(bits, true);
 209              		.loc 1 93 26 view .LVU55
 210 0090 2060     		str	r0, [r4]
  94:Core/Src/Traffic_Light.c ****                     bits = TL4_Green(bits, true);
 211              		.loc 1 94 21 is_stmt 1 view .LVU56
  94:Core/Src/Traffic_Light.c ****                     bits = TL4_Green(bits, true);
 212              		.loc 1 94 28 is_stmt 0 view .LVU57
 213 0092 0121     		movs	r1, #1
 214 0094 FFF7FEFF 		bl	PL2_Red
 215              	.LVL12:
  94:Core/Src/Traffic_Light.c ****                     bits = TL4_Green(bits, true);
 216              		.loc 1 94 26 view .LVU58
 217 0098 2060     		str	r0, [r4]
  95:Core/Src/Traffic_Light.c ****                     bits = TL4_Red(bits, false);
 218              		.loc 1 95 21 is_stmt 1 view .LVU59
  95:Core/Src/Traffic_Light.c ****                     bits = TL4_Red(bits, false);
 219              		.loc 1 95 28 is_stmt 0 view .LVU60
 220 009a 0121     		movs	r1, #1
ARM GAS  C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s 			page 7


 221 009c FFF7FEFF 		bl	TL4_Green
 222              	.LVL13:
  95:Core/Src/Traffic_Light.c ****                     bits = TL4_Red(bits, false);
 223              		.loc 1 95 26 view .LVU61
 224 00a0 2060     		str	r0, [r4]
  96:Core/Src/Traffic_Light.c ****                     bits = TL4_Yellow(bits, false);
 225              		.loc 1 96 21 is_stmt 1 view .LVU62
  96:Core/Src/Traffic_Light.c ****                     bits = TL4_Yellow(bits, false);
 226              		.loc 1 96 28 is_stmt 0 view .LVU63
 227 00a2 0021     		movs	r1, #0
 228 00a4 FFF7FEFF 		bl	TL4_Red
 229              	.LVL14:
  96:Core/Src/Traffic_Light.c ****                     bits = TL4_Yellow(bits, false);
 230              		.loc 1 96 26 view .LVU64
 231 00a8 2060     		str	r0, [r4]
  97:Core/Src/Traffic_Light.c ****                     CW2 = PLRed;
 232              		.loc 1 97 21 is_stmt 1 view .LVU65
  97:Core/Src/Traffic_Light.c ****                     CW2 = PLRed;
 233              		.loc 1 97 28 is_stmt 0 view .LVU66
 234 00aa 0021     		movs	r1, #0
 235 00ac FFF7FEFF 		bl	TL4_Yellow
 236              	.LVL15:
  97:Core/Src/Traffic_Light.c ****                     CW2 = PLRed;
 237              		.loc 1 97 26 view .LVU67
 238 00b0 2060     		str	r0, [r4]
  98:Core/Src/Traffic_Light.c ****                 }else if(PLGreenDelay == 1){
 239              		.loc 1 98 21 is_stmt 1 view .LVU68
  98:Core/Src/Traffic_Light.c ****                 }else if(PLGreenDelay == 1){
 240              		.loc 1 98 25 is_stmt 0 view .LVU69
 241 00b2 294B     		ldr	r3, .L23+8
 242 00b4 0022     		movs	r2, #0
 243 00b6 1A70     		strb	r2, [r3]
 244 00b8 C0E7     		b	.L10
 245              	.L20:
 100:Core/Src/Traffic_Light.c ****                     bits = PL2_Red(bits, true);
 246              		.loc 1 100 21 is_stmt 1 view .LVU70
 100:Core/Src/Traffic_Light.c ****                     bits = PL2_Red(bits, true);
 247              		.loc 1 100 28 is_stmt 0 view .LVU71
 248 00ba 264C     		ldr	r4, .L23+4
 249 00bc 0021     		movs	r1, #0
 250 00be 2068     		ldr	r0, [r4]
 251 00c0 FFF7FEFF 		bl	PL2_Green
 252              	.LVL16:
 100:Core/Src/Traffic_Light.c ****                     bits = PL2_Red(bits, true);
 253              		.loc 1 100 26 view .LVU72
 254 00c4 2060     		str	r0, [r4]
 101:Core/Src/Traffic_Light.c ****                     bits = TL4_Green(bits, false);
 255              		.loc 1 101 21 is_stmt 1 view .LVU73
 101:Core/Src/Traffic_Light.c ****                     bits = TL4_Green(bits, false);
 256              		.loc 1 101 28 is_stmt 0 view .LVU74
 257 00c6 0121     		movs	r1, #1
 258 00c8 FFF7FEFF 		bl	PL2_Red
 259              	.LVL17:
 101:Core/Src/Traffic_Light.c ****                     bits = TL4_Green(bits, false);
 260              		.loc 1 101 26 view .LVU75
 261 00cc 2060     		str	r0, [r4]
 102:Core/Src/Traffic_Light.c ****                     bits = TL4_Red(bits, false);
ARM GAS  C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s 			page 8


 262              		.loc 1 102 21 is_stmt 1 view .LVU76
 102:Core/Src/Traffic_Light.c ****                     bits = TL4_Red(bits, false);
 263              		.loc 1 102 28 is_stmt 0 view .LVU77
 264 00ce 0021     		movs	r1, #0
 265 00d0 FFF7FEFF 		bl	TL4_Green
 266              	.LVL18:
 102:Core/Src/Traffic_Light.c ****                     bits = TL4_Red(bits, false);
 267              		.loc 1 102 26 view .LVU78
 268 00d4 2060     		str	r0, [r4]
 103:Core/Src/Traffic_Light.c ****                     bits = TL4_Yellow(bits, true);
 269              		.loc 1 103 21 is_stmt 1 view .LVU79
 103:Core/Src/Traffic_Light.c ****                     bits = TL4_Yellow(bits, true);
 270              		.loc 1 103 28 is_stmt 0 view .LVU80
 271 00d6 0021     		movs	r1, #0
 272 00d8 FFF7FEFF 		bl	TL4_Red
 273              	.LVL19:
 103:Core/Src/Traffic_Light.c ****                     bits = TL4_Yellow(bits, true);
 274              		.loc 1 103 26 view .LVU81
 275 00dc 2060     		str	r0, [r4]
 104:Core/Src/Traffic_Light.c ****                 }else{
 276              		.loc 1 104 21 is_stmt 1 view .LVU82
 104:Core/Src/Traffic_Light.c ****                 }else{
 277              		.loc 1 104 28 is_stmt 0 view .LVU83
 278 00de 0121     		movs	r1, #1
 279 00e0 FFF7FEFF 		bl	TL4_Yellow
 280              	.LVL20:
 104:Core/Src/Traffic_Light.c ****                 }else{
 281              		.loc 1 104 26 view .LVU84
 282 00e4 2060     		str	r0, [r4]
 283 00e6 A9E7     		b	.L10
 284              	.L8:
 111:Core/Src/Traffic_Light.c ****                 }
 112:Core/Src/Traffic_Light.c ****                 break;
 113:Core/Src/Traffic_Light.c ****             case PLBlue:
 114:Core/Src/Traffic_Light.c ****                 if(PLBluedelay == 0){
 285              		.loc 1 114 17 is_stmt 1 view .LVU85
 286              		.loc 1 114 32 is_stmt 0 view .LVU86
 287 00e8 1C4B     		ldr	r3, .L23+12
 288 00ea 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 289              		.loc 1 114 19 view .LVU87
 290 00ec 43B1     		cbz	r3, .L21
 115:Core/Src/Traffic_Light.c ****                     bits = PL2_Blue(bits, false);
 116:Core/Src/Traffic_Light.c ****                     CW2 = PLGreen;
 117:Core/Src/Traffic_Light.c ****                     PLGreenDelay = pedestriandelay;
 118:Core/Src/Traffic_Light.c ****                 }else if(PLBluedelay == 1){
 291              		.loc 1 118 23 is_stmt 1 view .LVU88
 292              		.loc 1 118 25 is_stmt 0 view .LVU89
 293 00ee 012B     		cmp	r3, #1
 294 00f0 13D0     		beq	.L22
 119:Core/Src/Traffic_Light.c ****                     bits = TL4_Green(bits, false);
 120:Core/Src/Traffic_Light.c ****                     bits = TL4_Red(bits, false);
 121:Core/Src/Traffic_Light.c ****                     bits = TL4_Yellow(bits, true);
 122:Core/Src/Traffic_Light.c ****                 }else{
 123:Core/Src/Traffic_Light.c ****                     bits = PL2_Blue(bits, true);
 295              		.loc 1 123 21 is_stmt 1 view .LVU90
 296              		.loc 1 123 28 is_stmt 0 view .LVU91
 297 00f2 184C     		ldr	r4, .L23+4
ARM GAS  C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s 			page 9


 298 00f4 0121     		movs	r1, #1
 299 00f6 2068     		ldr	r0, [r4]
 300 00f8 FFF7FEFF 		bl	PL2_Blue
 301              	.LVL21:
 302              		.loc 1 123 26 view .LVU92
 303 00fc 2060     		str	r0, [r4]
 304 00fe 9DE7     		b	.L10
 305              	.L21:
 115:Core/Src/Traffic_Light.c ****                     bits = PL2_Blue(bits, false);
 306              		.loc 1 115 21 is_stmt 1 view .LVU93
 115:Core/Src/Traffic_Light.c ****                     bits = PL2_Blue(bits, false);
 307              		.loc 1 115 28 is_stmt 0 view .LVU94
 308 0100 144C     		ldr	r4, .L23+4
 309 0102 0021     		movs	r1, #0
 310 0104 2068     		ldr	r0, [r4]
 311 0106 FFF7FEFF 		bl	PL2_Blue
 312              	.LVL22:
 115:Core/Src/Traffic_Light.c ****                     bits = PL2_Blue(bits, false);
 313              		.loc 1 115 26 view .LVU95
 314 010a 2060     		str	r0, [r4]
 116:Core/Src/Traffic_Light.c ****                     PLGreenDelay = pedestriandelay;
 315              		.loc 1 116 21 is_stmt 1 view .LVU96
 116:Core/Src/Traffic_Light.c ****                     PLGreenDelay = pedestriandelay;
 316              		.loc 1 116 25 is_stmt 0 view .LVU97
 317 010c 124B     		ldr	r3, .L23+8
 318 010e 0122     		movs	r2, #1
 319 0110 1A70     		strb	r2, [r3]
 117:Core/Src/Traffic_Light.c ****                 }else if(PLBluedelay == 1){
 320              		.loc 1 117 21 is_stmt 1 view .LVU98
 117:Core/Src/Traffic_Light.c ****                 }else if(PLBluedelay == 1){
 321              		.loc 1 117 34 is_stmt 0 view .LVU99
 322 0112 144B     		ldr	r3, .L23+20
 323 0114 0522     		movs	r2, #5
 324 0116 1A70     		strb	r2, [r3]
 325 0118 90E7     		b	.L10
 326              	.L22:
 119:Core/Src/Traffic_Light.c ****                     bits = TL4_Green(bits, false);
 327              		.loc 1 119 21 is_stmt 1 view .LVU100
 119:Core/Src/Traffic_Light.c ****                     bits = TL4_Green(bits, false);
 328              		.loc 1 119 28 is_stmt 0 view .LVU101
 329 011a 0E4C     		ldr	r4, .L23+4
 330 011c 0021     		movs	r1, #0
 331 011e 2068     		ldr	r0, [r4]
 332 0120 FFF7FEFF 		bl	TL4_Green
 333              	.LVL23:
 119:Core/Src/Traffic_Light.c ****                     bits = TL4_Green(bits, false);
 334              		.loc 1 119 26 view .LVU102
 335 0124 2060     		str	r0, [r4]
 120:Core/Src/Traffic_Light.c ****                     bits = TL4_Yellow(bits, true);
 336              		.loc 1 120 21 is_stmt 1 view .LVU103
 120:Core/Src/Traffic_Light.c ****                     bits = TL4_Yellow(bits, true);
 337              		.loc 1 120 28 is_stmt 0 view .LVU104
 338 0126 0021     		movs	r1, #0
 339 0128 FFF7FEFF 		bl	TL4_Red
 340              	.LVL24:
 120:Core/Src/Traffic_Light.c ****                     bits = TL4_Yellow(bits, true);
 341              		.loc 1 120 26 view .LVU105
ARM GAS  C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s 			page 10


 342 012c 2060     		str	r0, [r4]
 121:Core/Src/Traffic_Light.c ****                 }else{
 343              		.loc 1 121 21 is_stmt 1 view .LVU106
 121:Core/Src/Traffic_Light.c ****                 }else{
 344              		.loc 1 121 28 is_stmt 0 view .LVU107
 345 012e 0121     		movs	r1, #1
 346 0130 FFF7FEFF 		bl	TL4_Yellow
 347              	.LVL25:
 121:Core/Src/Traffic_Light.c ****                 }else{
 348              		.loc 1 121 26 view .LVU108
 349 0134 2060     		str	r0, [r4]
 350 0136 81E7     		b	.L10
 351              	.L17:
 124:Core/Src/Traffic_Light.c ****                 }
 125:Core/Src/Traffic_Light.c ****                 break;
 126:Core/Src/Traffic_Light.c ****             case PLRed:
 127:Core/Src/Traffic_Light.c ****                 bits = PL2_Red(bits,true);
 352              		.loc 1 127 17 is_stmt 1 view .LVU109
 353              		.loc 1 127 24 is_stmt 0 view .LVU110
 354 0138 064C     		ldr	r4, .L23+4
 355 013a 0121     		movs	r1, #1
 356 013c 2068     		ldr	r0, [r4]
 357 013e FFF7FEFF 		bl	PL2_Red
 358              	.LVL26:
 359              		.loc 1 127 22 view .LVU111
 360 0142 2060     		str	r0, [r4]
 128:Core/Src/Traffic_Light.c ****                 bits = PL2_Green(bits,false);
 361              		.loc 1 128 17 is_stmt 1 view .LVU112
 362              		.loc 1 128 24 is_stmt 0 view .LVU113
 363 0144 0021     		movs	r1, #0
 364 0146 FFF7FEFF 		bl	PL2_Green
 365              	.LVL27:
 366              		.loc 1 128 22 view .LVU114
 367 014a 2060     		str	r0, [r4]
 129:Core/Src/Traffic_Light.c ****                 break;
 368              		.loc 1 129 17 is_stmt 1 view .LVU115
 369 014c 76E7     		b	.L10
 370              	.L24:
 371 014e 00BF     		.align	2
 372              	.L23:
 373 0150 00000000 		.word	htim16
 374 0154 00000000 		.word	bits
 375 0158 00000000 		.word	CW2
 376 015c 00000000 		.word	PLBluedelay
 377 0160 00000000 		.word	brightness
 378 0164 00000000 		.word	PLGreenDelay
 379              		.cfi_endproc
 380              	.LFE321:
 382              		.global	__aeabi_i2d
 383              		.global	__aeabi_ddiv
 384              		.global	__aeabi_dsub
 385              		.global	__aeabi_dmul
 386              		.global	__aeabi_d2uiz
 387              		.section	.text.HAL_TIM_PeriodElapsedCallback,"ax",%progbits
 388              		.align	1
 389              		.global	HAL_TIM_PeriodElapsedCallback
 390              		.syntax unified
ARM GAS  C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s 			page 11


 391              		.thumb
 392              		.thumb_func
 394              	HAL_TIM_PeriodElapsedCallback:
 395              	.LVL28:
 396              	.LFB322:
 130:Core/Src/Traffic_Light.c ****             default:
 131:Core/Src/Traffic_Light.c ****                 break;
 132:Core/Src/Traffic_Light.c ****         }
 133:Core/Src/Traffic_Light.c ****     }
 134:Core/Src/Traffic_Light.c **** }
 135:Core/Src/Traffic_Light.c **** 
 136:Core/Src/Traffic_Light.c **** void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim){
 397              		.loc 1 136 60 view -0
 398              		.cfi_startproc
 399              		@ args = 0, pretend = 0, frame = 0
 400              		@ frame_needed = 0, uses_anonymous_args = 0
 401              		.loc 1 136 60 is_stmt 0 view .LVU117
 402 0000 08B5     		push	{r3, lr}
 403              	.LCFI1:
 404              		.cfi_def_cfa_offset 8
 405              		.cfi_offset 3, -8
 406              		.cfi_offset 14, -4
 137:Core/Src/Traffic_Light.c ****     if(htim == &htim16){
 407              		.loc 1 137 5 is_stmt 1 view .LVU118
 408              		.loc 1 137 7 is_stmt 0 view .LVU119
 409 0002 3B4B     		ldr	r3, .L40
 410 0004 8342     		cmp	r3, r0
 411 0006 00D0     		beq	.L37
 412              	.LVL29:
 413              	.L25:
 138:Core/Src/Traffic_Light.c ****         if(msTick >= 10000){
 139:Core/Src/Traffic_Light.c ****             HAL_GPIO_TogglePin(USR_LED1_GPIO_Port, USR_LED1_Pin);
 140:Core/Src/Traffic_Light.c ****             if(PLBluedelay > 0){
 141:Core/Src/Traffic_Light.c ****                 PLBluedelay--;
 142:Core/Src/Traffic_Light.c ****                 Show_P2Bar(true, (1 - (PLBluedelay/togglefreq))*100.0);
 143:Core/Src/Traffic_Light.c ****             }else{
 144:Core/Src/Traffic_Light.c ****                 if(PLGreenDelay > 0){
 145:Core/Src/Traffic_Light.c ****                     PLGreenDelay--;
 146:Core/Src/Traffic_Light.c ****                     Show_W2Bar(true, (1 - (PLGreenDelay/pedestriandelay))*100.0);
 147:Core/Src/Traffic_Light.c ****                 }else{
 148:Core/Src/Traffic_Light.c ****                     Show_W2Bar(true, 0);
 149:Core/Src/Traffic_Light.c ****                 }
 150:Core/Src/Traffic_Light.c ****                 Show_P2Bar(true, 0);
 151:Core/Src/Traffic_Light.c ****             }
 152:Core/Src/Traffic_Light.c ****             msTick = 1;
 153:Core/Src/Traffic_Light.c ****         }else{
 154:Core/Src/Traffic_Light.c ****             msTick++;
 155:Core/Src/Traffic_Light.c ****         }
 156:Core/Src/Traffic_Light.c **** 
 157:Core/Src/Traffic_Light.c ****         if(Tick >= 100){
 158:Core/Src/Traffic_Light.c ****             Tick = 1;
 159:Core/Src/Traffic_Light.c ****         }else{
 160:Core/Src/Traffic_Light.c ****             Tick++;
 161:Core/Src/Traffic_Light.c ****         }
 162:Core/Src/Traffic_Light.c **** 
 163:Core/Src/Traffic_Light.c ****         if(Tick > brightness){
 164:Core/Src/Traffic_Light.c ****             HAL_GPIO_WritePin(Enable_595_GPIO_Port, Enable_595_Pin, GPIO_PIN_SET);
ARM GAS  C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s 			page 12


 165:Core/Src/Traffic_Light.c ****         }else{
 166:Core/Src/Traffic_Light.c ****             HAL_GPIO_WritePin(Enable_595_GPIO_Port, Enable_595_Pin, GPIO_PIN_RESET);
 167:Core/Src/Traffic_Light.c ****         }
 168:Core/Src/Traffic_Light.c **** 
 169:Core/Src/Traffic_Light.c ****     }
 170:Core/Src/Traffic_Light.c **** }...
 414              		.loc 1 170 1 view .LVU120
 415 0008 08BD     		pop	{r3, pc}
 416              	.LVL30:
 417              	.L37:
 138:Core/Src/Traffic_Light.c ****         if(msTick >= 10000){
 418              		.loc 1 138 9 is_stmt 1 view .LVU121
 138:Core/Src/Traffic_Light.c ****         if(msTick >= 10000){
 419              		.loc 1 138 19 is_stmt 0 view .LVU122
 420 000a 3A4B     		ldr	r3, .L40+4
 421 000c 1B88     		ldrh	r3, [r3]
 138:Core/Src/Traffic_Light.c ****         if(msTick >= 10000){
 422              		.loc 1 138 11 view .LVU123
 423 000e 42F20F72 		movw	r2, #9999
 424 0012 9342     		cmp	r3, r2
 425 0014 15D8     		bhi	.L38
 154:Core/Src/Traffic_Light.c ****             msTick++;
 426              		.loc 1 154 13 is_stmt 1 view .LVU124
 154:Core/Src/Traffic_Light.c ****             msTick++;
 427              		.loc 1 154 19 is_stmt 0 view .LVU125
 428 0016 0133     		adds	r3, r3, #1
 429 0018 364A     		ldr	r2, .L40+4
 430 001a 1380     		strh	r3, [r2]	@ movhi
 431              	.LVL31:
 432              	.L32:
 157:Core/Src/Traffic_Light.c ****         if(Tick >= 100){
 433              		.loc 1 157 9 is_stmt 1 view .LVU126
 157:Core/Src/Traffic_Light.c ****         if(Tick >= 100){
 434              		.loc 1 157 17 is_stmt 0 view .LVU127
 435 001c 364B     		ldr	r3, .L40+8
 436 001e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 157:Core/Src/Traffic_Light.c ****         if(Tick >= 100){
 437              		.loc 1 157 11 view .LVU128
 438 0020 632B     		cmp	r3, #99
 439 0022 5BD9     		bls	.L33
 158:Core/Src/Traffic_Light.c ****             Tick = 1;
 440              		.loc 1 158 13 is_stmt 1 view .LVU129
 158:Core/Src/Traffic_Light.c ****             Tick = 1;
 441              		.loc 1 158 18 is_stmt 0 view .LVU130
 442 0024 344B     		ldr	r3, .L40+8
 443 0026 0122     		movs	r2, #1
 444 0028 1A70     		strb	r2, [r3]
 445              	.L34:
 163:Core/Src/Traffic_Light.c ****         if(Tick > brightness){
 446              		.loc 1 163 9 is_stmt 1 view .LVU131
 163:Core/Src/Traffic_Light.c ****         if(Tick > brightness){
 447              		.loc 1 163 17 is_stmt 0 view .LVU132
 448 002a 334B     		ldr	r3, .L40+8
 449 002c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 450 002e 334B     		ldr	r3, .L40+12
 451 0030 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 163:Core/Src/Traffic_Light.c ****         if(Tick > brightness){
ARM GAS  C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s 			page 13


 452              		.loc 1 163 11 view .LVU133
 453 0032 9A42     		cmp	r2, r3
 454 0034 56D9     		bls	.L35
 164:Core/Src/Traffic_Light.c ****             HAL_GPIO_WritePin(Enable_595_GPIO_Port, Enable_595_Pin, GPIO_PIN_SET);
 455              		.loc 1 164 13 is_stmt 1 view .LVU134
 456 0036 0122     		movs	r2, #1
 457 0038 8021     		movs	r1, #128
 458 003a 3148     		ldr	r0, .L40+16
 459 003c FFF7FEFF 		bl	HAL_GPIO_WritePin
 460              	.LVL32:
 461 0040 E2E7     		b	.L25
 462              	.LVL33:
 463              	.L38:
 139:Core/Src/Traffic_Light.c ****             HAL_GPIO_TogglePin(USR_LED1_GPIO_Port, USR_LED1_Pin);
 464              		.loc 1 139 13 view .LVU135
 465 0042 0421     		movs	r1, #4
 466 0044 2F48     		ldr	r0, .L40+20
 467              	.LVL34:
 139:Core/Src/Traffic_Light.c ****             HAL_GPIO_TogglePin(USR_LED1_GPIO_Port, USR_LED1_Pin);
 468              		.loc 1 139 13 is_stmt 0 view .LVU136
 469 0046 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 470              	.LVL35:
 140:Core/Src/Traffic_Light.c ****             if(PLBluedelay > 0){
 471              		.loc 1 140 13 is_stmt 1 view .LVU137
 140:Core/Src/Traffic_Light.c ****             if(PLBluedelay > 0){
 472              		.loc 1 140 28 is_stmt 0 view .LVU138
 473 004a 2F4B     		ldr	r3, .L40+24
 474 004c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 140:Core/Src/Traffic_Light.c ****             if(PLBluedelay > 0){
 475              		.loc 1 140 15 view .LVU139
 476 004e 2BBB     		cbnz	r3, .L39
 144:Core/Src/Traffic_Light.c ****                 if(PLGreenDelay > 0){
 477              		.loc 1 144 17 is_stmt 1 view .LVU140
 144:Core/Src/Traffic_Light.c ****                 if(PLGreenDelay > 0){
 478              		.loc 1 144 33 is_stmt 0 view .LVU141
 479 0050 2E4B     		ldr	r3, .L40+28
 480 0052 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 144:Core/Src/Traffic_Light.c ****                 if(PLGreenDelay > 0){
 481              		.loc 1 144 19 view .LVU142
 482 0054 002B     		cmp	r3, #0
 483 0056 3CD0     		beq	.L30
 145:Core/Src/Traffic_Light.c ****                     PLGreenDelay--;
 484              		.loc 1 145 21 is_stmt 1 view .LVU143
 145:Core/Src/Traffic_Light.c ****                     PLGreenDelay--;
 485              		.loc 1 145 33 is_stmt 0 view .LVU144
 486 0058 013B     		subs	r3, r3, #1
 487 005a D8B2     		uxtb	r0, r3
 488 005c 2B4B     		ldr	r3, .L40+28
 489 005e 1870     		strb	r0, [r3]
 146:Core/Src/Traffic_Light.c ****                     Show_W2Bar(true, (1 - (PLGreenDelay/pedestriandelay))*100.0);
 490              		.loc 1 146 21 is_stmt 1 view .LVU145
 146:Core/Src/Traffic_Light.c ****                     Show_W2Bar(true, (1 - (PLGreenDelay/pedestriandelay))*100.0);
 491              		.loc 1 146 56 is_stmt 0 view .LVU146
 492 0060 FFF7FEFF 		bl	__aeabi_i2d
 493              	.LVL36:
 494 0064 0022     		movs	r2, #0
 495 0066 2A4B     		ldr	r3, .L40+32
ARM GAS  C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s 			page 14


 496 0068 FFF7FEFF 		bl	__aeabi_ddiv
 497              	.LVL37:
 498 006c 0246     		mov	r2, r0
 499 006e 0B46     		mov	r3, r1
 146:Core/Src/Traffic_Light.c ****                     Show_W2Bar(true, (1 - (PLGreenDelay/pedestriandelay))*100.0);
 500              		.loc 1 146 41 view .LVU147
 501 0070 0020     		movs	r0, #0
 502 0072 2849     		ldr	r1, .L40+36
 503 0074 FFF7FEFF 		bl	__aeabi_dsub
 504              	.LVL38:
 146:Core/Src/Traffic_Light.c ****                     Show_W2Bar(true, (1 - (PLGreenDelay/pedestriandelay))*100.0);
 505              		.loc 1 146 74 view .LVU148
 506 0078 0022     		movs	r2, #0
 507 007a 274B     		ldr	r3, .L40+40
 508 007c FFF7FEFF 		bl	__aeabi_dmul
 509              	.LVL39:
 146:Core/Src/Traffic_Light.c ****                     Show_W2Bar(true, (1 - (PLGreenDelay/pedestriandelay))*100.0);
 510              		.loc 1 146 21 view .LVU149
 511 0080 FFF7FEFF 		bl	__aeabi_d2uiz
 512              	.LVL40:
 513 0084 C1B2     		uxtb	r1, r0
 514 0086 0120     		movs	r0, #1
 515 0088 FFF7FEFF 		bl	Show_W2Bar
 516              	.LVL41:
 517              	.L31:
 150:Core/Src/Traffic_Light.c ****                 Show_P2Bar(true, 0);
 518              		.loc 1 150 17 is_stmt 1 view .LVU150
 519 008c 0021     		movs	r1, #0
 520 008e 0120     		movs	r0, #1
 521 0090 FFF7FEFF 		bl	Show_P2Bar
 522              	.LVL42:
 523              	.L29:
 152:Core/Src/Traffic_Light.c ****             msTick = 1;
 524              		.loc 1 152 13 view .LVU151
 152:Core/Src/Traffic_Light.c ****             msTick = 1;
 525              		.loc 1 152 20 is_stmt 0 view .LVU152
 526 0094 174B     		ldr	r3, .L40+4
 527 0096 0122     		movs	r2, #1
 528 0098 1A80     		strh	r2, [r3]	@ movhi
 529 009a BFE7     		b	.L32
 530              	.L39:
 141:Core/Src/Traffic_Light.c ****                 PLBluedelay--;
 531              		.loc 1 141 17 is_stmt 1 view .LVU153
 141:Core/Src/Traffic_Light.c ****                 PLBluedelay--;
 532              		.loc 1 141 28 is_stmt 0 view .LVU154
 533 009c 013B     		subs	r3, r3, #1
 534 009e D8B2     		uxtb	r0, r3
 535 00a0 194B     		ldr	r3, .L40+24
 536 00a2 1870     		strb	r0, [r3]
 142:Core/Src/Traffic_Light.c ****                 Show_P2Bar(true, (1 - (PLBluedelay/togglefreq))*100.0);
 537              		.loc 1 142 17 is_stmt 1 view .LVU155
 142:Core/Src/Traffic_Light.c ****                 Show_P2Bar(true, (1 - (PLBluedelay/togglefreq))*100.0);
 538              		.loc 1 142 51 is_stmt 0 view .LVU156
 539 00a4 FFF7FEFF 		bl	__aeabi_i2d
 540              	.LVL43:
 541 00a8 0022     		movs	r2, #0
 542 00aa 1C4B     		ldr	r3, .L40+44
ARM GAS  C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s 			page 15


 543 00ac FFF7FEFF 		bl	__aeabi_ddiv
 544              	.LVL44:
 545 00b0 0246     		mov	r2, r0
 546 00b2 0B46     		mov	r3, r1
 142:Core/Src/Traffic_Light.c ****                 Show_P2Bar(true, (1 - (PLBluedelay/togglefreq))*100.0);
 547              		.loc 1 142 37 view .LVU157
 548 00b4 0020     		movs	r0, #0
 549 00b6 1749     		ldr	r1, .L40+36
 550 00b8 FFF7FEFF 		bl	__aeabi_dsub
 551              	.LVL45:
 142:Core/Src/Traffic_Light.c ****                 Show_P2Bar(true, (1 - (PLBluedelay/togglefreq))*100.0);
 552              		.loc 1 142 64 view .LVU158
 553 00bc 0022     		movs	r2, #0
 554 00be 164B     		ldr	r3, .L40+40
 555 00c0 FFF7FEFF 		bl	__aeabi_dmul
 556              	.LVL46:
 142:Core/Src/Traffic_Light.c ****                 Show_P2Bar(true, (1 - (PLBluedelay/togglefreq))*100.0);
 557              		.loc 1 142 17 view .LVU159
 558 00c4 FFF7FEFF 		bl	__aeabi_d2uiz
 559              	.LVL47:
 560 00c8 C1B2     		uxtb	r1, r0
 561 00ca 0120     		movs	r0, #1
 562 00cc FFF7FEFF 		bl	Show_P2Bar
 563              	.LVL48:
 564 00d0 E0E7     		b	.L29
 565              	.L30:
 148:Core/Src/Traffic_Light.c ****                     Show_W2Bar(true, 0);
 566              		.loc 1 148 21 is_stmt 1 view .LVU160
 567 00d2 0021     		movs	r1, #0
 568 00d4 0120     		movs	r0, #1
 569 00d6 FFF7FEFF 		bl	Show_W2Bar
 570              	.LVL49:
 571 00da D7E7     		b	.L31
 572              	.L33:
 160:Core/Src/Traffic_Light.c ****             Tick++;
 573              		.loc 1 160 13 view .LVU161
 160:Core/Src/Traffic_Light.c ****             Tick++;
 574              		.loc 1 160 17 is_stmt 0 view .LVU162
 575 00dc 0133     		adds	r3, r3, #1
 576 00de 064A     		ldr	r2, .L40+8
 577 00e0 1370     		strb	r3, [r2]
 578 00e2 A2E7     		b	.L34
 579              	.L35:
 166:Core/Src/Traffic_Light.c ****             HAL_GPIO_WritePin(Enable_595_GPIO_Port, Enable_595_Pin, GPIO_PIN_RESET);
 580              		.loc 1 166 13 is_stmt 1 view .LVU163
 581 00e4 0022     		movs	r2, #0
 582 00e6 8021     		movs	r1, #128
 583 00e8 0548     		ldr	r0, .L40+16
 584 00ea FFF7FEFF 		bl	HAL_GPIO_WritePin
 585              	.LVL50:
 586              		.loc 1 170 1 is_stmt 0 view .LVU164
 587 00ee 8BE7     		b	.L25
 588              	.L41:
 589              		.align	2
 590              	.L40:
 591 00f0 00000000 		.word	htim16
 592 00f4 00000000 		.word	msTick
ARM GAS  C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s 			page 16


 593 00f8 00000000 		.word	Tick
 594 00fc 00000000 		.word	brightness
 595 0100 00080048 		.word	1207961600
 596 0104 00040048 		.word	1207960576
 597 0108 00000000 		.word	PLBluedelay
 598 010c 00000000 		.word	PLGreenDelay
 599 0110 00001440 		.word	1075052544
 600 0114 0000F03F 		.word	1072693248
 601 0118 00005940 		.word	1079574528
 602 011c 00002440 		.word	1076101120
 603              		.cfi_endproc
 604              	.LFE322:
 606              		.global	bits
 607              		.section	.bss.bits,"aw",%nobits
 608              		.align	2
 611              	bits:
 612 0000 00000000 		.space	4
 613              		.global	Tick
 614              		.section	.data.Tick,"aw"
 617              	Tick:
 618 0000 01       		.byte	1
 619              		.global	msTick
 620              		.section	.data.msTick,"aw"
 621              		.align	1
 624              	msTick:
 625 0000 0100     		.short	1
 626              		.global	toggleBlue
 627              		.section	.bss.toggleBlue,"aw",%nobits
 630              	toggleBlue:
 631 0000 00       		.space	1
 632              		.global	toggleBrightness
 633              		.section	.bss.toggleBrightness,"aw",%nobits
 636              	toggleBrightness:
 637 0000 00       		.space	1
 638              		.global	PLGreenDelay
 639              		.section	.bss.PLGreenDelay,"aw",%nobits
 642              	PLGreenDelay:
 643 0000 00       		.space	1
 644              		.global	PLBluedelay
 645              		.section	.bss.PLBluedelay,"aw",%nobits
 648              	PLBluedelay:
 649 0000 00       		.space	1
 650              		.global	brightness
 651              		.section	.bss.brightness,"aw",%nobits
 654              	brightness:
 655 0000 00       		.space	1
 656              		.section	.bss.CW2,"aw",%nobits
 659              	CW2:
 660 0000 00       		.space	1
 661              		.section	.bss.CW1,"aw",%nobits
 664              	CW1:
 665 0000 00       		.space	1
 666              		.section	.bss.C4,"aw",%nobits
 669              	C4:
 670 0000 00       		.space	1
 671              		.section	.bss.C3,"aw",%nobits
 674              	C3:
ARM GAS  C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s 			page 17


 675 0000 00       		.space	1
 676              		.section	.bss.C2,"aw",%nobits
 679              	C2:
 680 0000 00       		.space	1
 681              		.section	.bss.C1,"aw",%nobits
 684              	C1:
 685 0000 00       		.space	1
 686              		.text
 687              	.Letext0:
 688              		.file 2 "c:\\users\\ehgre\\desktop\\plugg\\inbyggda system\\tools\\arm-gnu-toolchain-12.2.mpacbti-
 689              		.file 3 "c:\\users\\ehgre\\desktop\\plugg\\inbyggda system\\tools\\arm-gnu-toolchain-12.2.mpacbti-
 690              		.file 4 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l476xx.h"
 691              		.file 5 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 692              		.file 6 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_gpio.h"
 693              		.file 7 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma.h"
 694              		.file 8 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_tim.h"
 695              		.file 9 "Core/Inc/light_logic.h"
 696              		.file 10 "Core/Inc/tim.h"
 697              		.file 11 "Core/Inc/OledDelayBars.h"
 698              		.file 12 "Core/Inc/interactions.h"
 699              		.file 13 "Core/Inc/potentiometer.h"
ARM GAS  C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s 			page 18


DEFINED SYMBOLS
                            *ABS*:00000000 Traffic_Light.c
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:21     .text.Init_States:00000000 $t
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:27     .text.Init_States:00000000 Init_States
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:65     .text.Init_States:00000020 $d
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:684    .bss.C1:00000000 C1
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:679    .bss.C2:00000000 C2
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:674    .bss.C3:00000000 C3
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:669    .bss.C4:00000000 C4
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:664    .bss.CW1:00000000 CW1
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:659    .bss.CW2:00000000 CW2
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:75     .text.traffic_lights:00000000 $t
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:81     .text.traffic_lights:00000000 traffic_lights
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:373    .text.traffic_lights:00000150 $d
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:611    .bss.bits:00000000 bits
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:648    .bss.PLBluedelay:00000000 PLBluedelay
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:654    .bss.brightness:00000000 brightness
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:642    .bss.PLGreenDelay:00000000 PLGreenDelay
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:388    .text.HAL_TIM_PeriodElapsedCallback:00000000 $t
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:394    .text.HAL_TIM_PeriodElapsedCallback:00000000 HAL_TIM_PeriodElapsedCallback
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:591    .text.HAL_TIM_PeriodElapsedCallback:000000f0 $d
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:624    .data.msTick:00000000 msTick
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:617    .data.Tick:00000000 Tick
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:608    .bss.bits:00000000 $d
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:621    .data.msTick:00000000 $d
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:630    .bss.toggleBlue:00000000 toggleBlue
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:631    .bss.toggleBlue:00000000 $d
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:636    .bss.toggleBrightness:00000000 toggleBrightness
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:637    .bss.toggleBrightness:00000000 $d
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:643    .bss.PLGreenDelay:00000000 $d
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:649    .bss.PLBluedelay:00000000 $d
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:655    .bss.brightness:00000000 $d
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:660    .bss.CW2:00000000 $d
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:665    .bss.CW1:00000000 $d
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:670    .bss.C4:00000000 $d
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:675    .bss.C3:00000000 $d
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:680    .bss.C2:00000000 $d
C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s:685    .bss.C1:00000000 $d

UNDEFINED SYMBOLS
HAL_TIM_Base_Start_IT
Show_All_DelayBars
Init_Task1
getPotiPercent
is_pl2
PL2_Green
PL2_Red
TL4_Green
TL4_Red
TL4_Yellow
PL2_Blue
htim16
__aeabi_i2d
__aeabi_ddiv
__aeabi_dsub
__aeabi_dmul
__aeabi_d2uiz
ARM GAS  C:\Users\ehgre\AppData\Local\Temp\ccfmQAhD.s 			page 19


HAL_GPIO_WritePin
HAL_GPIO_TogglePin
Show_W2Bar
Show_P2Bar
